{"metadata":{"roleHeading":"Framework","title":"MoovKit","modules":[{"name":"MoovKit"}],"role":"collection","externalID":"MoovKit","symbolKind":"module"},"schemaVersion":{"major":0,"minor":3,"patch":0},"identifier":{"url":"doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit","interfaceLanguage":"swift"},"hierarchy":{"paths":[[]]},"sections":[],"topicSections":[{"anchor":"Classes","title":"Classes","generated":true,"identifiers":["doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/Moov","doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/NetworkService"]},{"anchor":"Protocols","title":"Protocols","generated":true,"identifiers":["doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/TerminalConfigurationProvider","doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/URLSessionProtocol"]},{"title":"Structures","identifiers":["doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/CardReadResult","doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/PaymentMethodToken","doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/StaticTerminalConfigurationProvider"],"generated":true,"anchor":"Structures"},{"generated":true,"title":"Type Aliases","identifiers":["doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/EventHandler"],"anchor":"Type-Aliases"},{"generated":true,"identifiers":["doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/APIError","doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/CardReadError","doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/CardReaderError","doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/Environment","doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/ReaderEvent","doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/SDKError","doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/TerminalConfigurationError","doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/TransactionType"],"anchor":"Enumerations","title":"Enumerations"}],"primaryContentSections":[{"kind":"content","content":[{"text":"Overview","type":"heading","anchor":"overview","level":2},{"type":"row","columns":[{"size":1,"content":[{"type":"paragraph","inlineContent":[{"text":"The MoovKit SDK empowers app developers to seamlessly integrate contactless card payment acceptance into their applications using Tap to Pay on iPhone, all supported by the trusted and secure infrastructure of Moov.","type":"text"}]}]},{"size":1,"content":[{"type":"paragraph","inlineContent":[{"identifier":"moov","type":"image"}]}]}],"numberOfColumns":2},{"text":"Getting Started","type":"heading","level":2,"anchor":"Getting-Started"},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add a package dependency to your Xcode project using the URL: https:\/\/github.com\/moovfinancial\/moov-ios"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In your app Target under Frameworks, Libraries and Embedded content make sure that "},{"type":"emphasis","inlineContent":[{"type":"text","text":"MoovKit"}]},{"type":"text","text":" is set to Embed & Sign."}]}]},{"content":[{"inlineContent":[{"type":"text","text":"In Link Binary With Libraries make sure that "},{"type":"emphasis","inlineContent":[{"type":"text","text":"MoovKit"}]},{"type":"text","text":" is listed as a library to link with."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In sandbox mode Tap to Pay can only be used on iPhones that are signed into a sandbox developer iCloud account. To register Sandbox developer account visit "},{"identifier":"https:\/\/appstoreconnect.apple.com\/access\/users\/sandbox","isActive":true,"type":"reference"},{"type":"text","text":" in the Apple Developer Account of your organization. Running the sandbox version on an iPhone that is signed into a non-sandbox iCloud account will yield an error when intializing the card reader."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Create an entitlements file in the top level of your Xcode project:"}]}]}]},{"type":"codeListing","syntax":"xml","code":["<?xml version=\"1.0\" encoding=\"UTF-8\"?>","<!DOCTYPE plist PUBLIC \"-\/\/Apple\/\/DTD PLIST 1.0\/\/EN\" \"http:\/\/www.apple.com\/DTDs\/PropertyList-1.0.dtd\">","<plist version=\"1.0\">","<dict>","    <key>com.apple.developer.proximity-reader.payment.acceptance<\/key>","    <true\/>","<\/dict>","<\/plist>",""]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Import the SDK in your source:"}]}]}],"type":"orderedList","start":6},{"syntax":"swift","code":["    import MoovKit"],"type":"codeListing"},{"start":7,"items":[{"content":[{"inlineContent":[{"text":"Implement a terminal configuration provider and inject it into the Moov instance. The terminal configuration will need to be acquired by your backend and sent to your iPhone app. To get you started, you can ask Moov to provide you with a terminal configuration that is valid for 48 hours and you can hardcode it into your application using a static terminal configuration provider.","type":"text"}],"type":"paragraph"}]}],"type":"orderedList"},{"type":"codeListing","syntax":"swift","code":["    static let terminalConfigurationProvider = StaticTerminalConfigurationProvider(terminalConfiguration: \"eyJjYXJkUmVhZGVyVG9rZW4iOiJleUpoYkdjaU9pSkZVekkxTmlJc0ltdHBaQ0k2SWpJeE56UmhZamcyTFRCaVpEVXRORGM0TWkxaU56RTJMVEUyWldVd1l6TXpOalptTmlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKaGRXUWlPaUpqWlhKMGFXWnBZMkYwYVc5dUxYQnZjeTEyTVNJc0ltVjRjQ0k2TVRjek56RTBPVFkyTml3aWFXRjBJam94TnpNMk9UYzJPRFkyTENKcWRHa2lPaUkyT0dSa1pERTRPQzFpTnpaakxUUm1OMk10T1RZME5pMWhPVEUzT1dWaFltTTFPVEFpTENKdFltNGlPaUpEYkdGemMySnZiMnRsY2lJc0ltMWpZeUk2TVRBd01Dd2liV2xrSWpvaU1USXpORFUyTnpnNU1ERXlNelExSWl3aWRIQnBaQ0k2SWpSak9EUXdNREF3TFRBd01EQXRNREF3TUMwd1pESmhMVGxpWXpRMk56TXpZbVpqTmlKOS5aakZlbjFURnNxNUhLR2ZEektienBZLWhpcjVCb3NpSVNGeHNJRzdxTEZZT09vUWNua2tzaWxab2FwM2RNbmU1VXB0bzFuckVQNkZnYjZYQjdZbDFiQSJ9\")","","    let moov = Moov(partnerAccountId: UUID().uuidString.lowercased(), terminalConfigProvider: terminalConfigurationProvider, networkService: NetworkService(environment: .staging))","}"]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Register an event handler to get notified of events related to Tap to Pay.","type":"text"}]}]}],"start":8,"type":"orderedList"},{"syntax":"swift","code":["    moov.eventHandler = { event  in","        if case .updateProgress(let progress) = event {","            logger.info(\"Event \\(event.rawValue): \\(progress)\")","        } else {","            logger.info(\"Event \\(event.rawValue)\")","        }","    }"],"type":"codeListing"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Initialize a reader.","type":"text"}]}]}],"start":9,"type":"orderedList"},{"syntax":"swift","code":["    do {","        let identifier = try await moov.initReader()","        logger.debug(\"identifier \\(String(describing: identifier))\")","    } catch {","        logger.error(\"Failed to fetch identifier\")","    }"],"type":"codeListing"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Create a session after the reader is initialized. The session will check if the merchant has already accepted the Terms & Conditions. If not, the T&C view will be presented and needs to be accepted before a tap to pay can be used."}]}]}],"type":"orderedList","start":10},{"syntax":"swift","type":"codeListing","code":["    do {","        try await moov.createSession()","        ","    } catch {","        logger.error(\"Failed to configure device: \\(error)\")","    }"]},{"type":"orderedList","start":11,"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"This is how you read a card after a session has been created. The card read returns a payment method token that will need to be forwarded to Moov.","type":"text"}]}]}]},{"syntax":"swift","code":["    do {","        let paymentMethodToken = try await moov.readCard(for: amount, currencyCode: \"USD\", transactionType: .purchase, customerAccountID: UUID().uuidString.lowercased())","        let encoder = JSONEncoder()","        encoder.outputFormatting = .prettyPrinted","        let jsonData = try! encoder.encode(paymentMethodToken)","        if let jsonString = String(data: jsonData, encoding: .utf8) {","            logger.debug(\"\\(jsonString)\")","        }","    } catch {","        logger.error(\"Card read error: \\(error)\")","    }"],"type":"codeListing"},{"type":"orderedList","start":12,"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"In sandbox mode only cards listed on ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/apple-pay\/sandbox-testing\/","isActive":true,"type":"reference"},{"type":"text","text":" can be used to test the Tap to Pay functionality with. The card numbers listed on this page can be added to a Wallet app of an iPhone. The iPhone needs to be logged into a Sandbox developer account. To register Sandbox developer account visit "},{"overridingTitleInlineContent":[{"type":"text","text":"this page"}],"type":"reference","overridingTitle":"this page","isActive":true,"identifier":"https:\/\/appstoreconnect.apple.com\/access\/users\/sandbox"},{"text":" in the Apple Developer Account of your organization. The sandbox account can be the same one that is used on the phone running the app with the Tap to Pay functionality.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Have fun tapping! ðŸŽ‰"}]}]}]}]}],"kind":"symbol","variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/moovkit"]}],"references":{"doc://ios-sdk.MoovKit/documentation/MoovKit/Environment":{"role":"symbol","identifier":"doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/Environment","url":"\/documentation\/moovkit\/environment","navigatorTitle":[{"text":"Environment","kind":"identifier"}],"type":"topic","abstract":[],"fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"Environment"}],"title":"Environment","kind":"symbol"},"doc://ios-sdk.MoovKit/documentation/MoovKit/CardReaderError":{"abstract":[],"role":"symbol","url":"\/documentation\/moovkit\/cardreadererror","type":"topic","fragments":[{"kind":"keyword","text":"enum"},{"text":" ","kind":"text"},{"kind":"identifier","text":"CardReaderError"}],"navigatorTitle":[{"kind":"identifier","text":"CardReaderError"}],"kind":"symbol","identifier":"doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/CardReaderError","title":"CardReaderError"},"doc://ios-sdk.MoovKit/documentation/MoovKit/NetworkService":{"abstract":[],"url":"\/documentation\/moovkit\/networkservice","role":"symbol","fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"text":"NetworkService","kind":"identifier"}],"kind":"symbol","identifier":"doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/NetworkService","type":"topic","title":"NetworkService","navigatorTitle":[{"kind":"identifier","text":"NetworkService"}]},"doc://ios-sdk.MoovKit/documentation/MoovKit/SDKError":{"kind":"symbol","role":"symbol","fragments":[{"kind":"keyword","text":"enum"},{"text":" ","kind":"text"},{"kind":"identifier","text":"SDKError"}],"navigatorTitle":[{"kind":"identifier","text":"SDKError"}],"identifier":"doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/SDKError","type":"topic","url":"\/documentation\/moovkit\/sdkerror","abstract":[],"title":"SDKError"},"doc://ios-sdk.MoovKit/documentation/MoovKit":{"kind":"symbol","type":"topic","identifier":"doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit","role":"collection","url":"\/documentation\/moovkit","abstract":[],"title":"MoovKit"},"https://developer.apple.com/apple-pay/sandbox-testing/":{"url":"https:\/\/developer.apple.com\/apple-pay\/sandbox-testing\/","titleInlineContent":[{"type":"text","text":"this page"}],"identifier":"https:\/\/developer.apple.com\/apple-pay\/sandbox-testing\/","title":"this page","type":"link"},"doc://ios-sdk.MoovKit/documentation/MoovKit/PaymentMethodToken":{"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"PaymentMethodToken","kind":"identifier"}],"role":"symbol","abstract":[],"navigatorTitle":[{"kind":"identifier","text":"PaymentMethodToken"}],"kind":"symbol","identifier":"doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/PaymentMethodToken","title":"PaymentMethodToken","url":"\/documentation\/moovkit\/paymentmethodtoken","type":"topic"},"doc://ios-sdk.MoovKit/documentation/MoovKit/StaticTerminalConfigurationProvider":{"kind":"symbol","title":"StaticTerminalConfigurationProvider","navigatorTitle":[{"text":"StaticTerminalConfigurationProvider","kind":"identifier"}],"abstract":[],"url":"\/documentation\/moovkit\/staticterminalconfigurationprovider","identifier":"doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/StaticTerminalConfigurationProvider","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"StaticTerminalConfigurationProvider"}],"type":"topic"},"doc://ios-sdk.MoovKit/documentation/MoovKit/CardReadResult":{"type":"topic","title":"CardReadResult","kind":"symbol","identifier":"doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/CardReadResult","abstract":[],"role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"CardReadResult"}],"url":"\/documentation\/moovkit\/cardreadresult","navigatorTitle":[{"text":"CardReadResult","kind":"identifier"}]},"doc://ios-sdk.MoovKit/documentation/MoovKit/TerminalConfigurationProvider":{"title":"TerminalConfigurationProvider","identifier":"doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/TerminalConfigurationProvider","url":"\/documentation\/moovkit\/terminalconfigurationprovider","abstract":[{"type":"text","text":"Protocol via card reader token is injected to the SDK."}],"fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"TerminalConfigurationProvider"}],"type":"topic","kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"TerminalConfigurationProvider"}],"role":"symbol"},"doc://ios-sdk.MoovKit/documentation/MoovKit/URLSessionProtocol":{"identifier":"doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/URLSessionProtocol","fragments":[{"text":"protocol","kind":"keyword"},{"kind":"text","text":" "},{"text":"URLSessionProtocol","kind":"identifier"}],"navigatorTitle":[{"kind":"identifier","text":"URLSessionProtocol"}],"title":"URLSessionProtocol","role":"symbol","url":"\/documentation\/moovkit\/urlsessionprotocol","abstract":[],"type":"topic","kind":"symbol"},"doc://ios-sdk.MoovKit/documentation/MoovKit/TerminalConfigurationError":{"role":"symbol","identifier":"doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/TerminalConfigurationError","kind":"symbol","fragments":[{"kind":"keyword","text":"enum"},{"text":" ","kind":"text"},{"text":"TerminalConfigurationError","kind":"identifier"}],"title":"TerminalConfigurationError","navigatorTitle":[{"text":"TerminalConfigurationError","kind":"identifier"}],"type":"topic","url":"\/documentation\/moovkit\/terminalconfigurationerror","abstract":[]},"doc://ios-sdk.MoovKit/documentation/MoovKit/CardReadError":{"role":"symbol","identifier":"doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/CardReadError","title":"CardReadError","url":"\/documentation\/moovkit\/cardreaderror","abstract":[],"type":"topic","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"CardReadError","kind":"identifier"}],"navigatorTitle":[{"text":"CardReadError","kind":"identifier"}],"kind":"symbol"},"doc://ios-sdk.MoovKit/documentation/MoovKit/EventHandler":{"abstract":[],"fragments":[{"text":"typealias","kind":"keyword"},{"kind":"text","text":" "},{"text":"EventHandler","kind":"identifier"}],"identifier":"doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/EventHandler","title":"EventHandler","kind":"symbol","role":"symbol","navigatorTitle":[{"text":"EventHandler","kind":"identifier"}],"type":"topic","url":"\/documentation\/moovkit\/eventhandler"},"doc://ios-sdk.MoovKit/documentation/MoovKit/APIError":{"fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"text":"APIError","kind":"identifier"}],"kind":"symbol","identifier":"doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/APIError","title":"APIError","abstract":[],"navigatorTitle":[{"text":"APIError","kind":"identifier"}],"url":"\/documentation\/moovkit\/apierror","role":"symbol","type":"topic"},"moov":{"alt":"Moov Logo.","identifier":"moov","variants":[{"traits":["1x","light"],"url":"\/images\/ios-sdk.MoovKit\/moov.png"},{"traits":["1x","dark"],"url":"\/images\/ios-sdk.MoovKit\/moov~dark.png"}],"type":"image"},"doc://ios-sdk.MoovKit/documentation/MoovKit/TransactionType":{"title":"TransactionType","fragments":[{"text":"enum","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"TransactionType"}],"url":"\/documentation\/moovkit\/transactiontype","identifier":"doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/TransactionType","role":"symbol","navigatorTitle":[{"text":"TransactionType","kind":"identifier"}],"abstract":[],"kind":"symbol","type":"topic"},"https://appstoreconnect.apple.com/access/users/sandbox":{"url":"https:\/\/appstoreconnect.apple.com\/access\/users\/sandbox","titleInlineContent":[{"type":"text","text":"this page"}],"identifier":"https:\/\/appstoreconnect.apple.com\/access\/users\/sandbox","title":"this page","type":"link"},"doc://ios-sdk.MoovKit/documentation/MoovKit/Moov":{"navigatorTitle":[{"kind":"identifier","text":"Moov"}],"title":"Moov","type":"topic","url":"\/documentation\/moovkit\/moov","abstract":[],"identifier":"doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/Moov","kind":"symbol","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Moov","kind":"identifier"}],"role":"symbol"},"doc://ios-sdk.MoovKit/documentation/MoovKit/ReaderEvent":{"navigatorTitle":[{"text":"ReaderEvent","kind":"identifier"}],"kind":"symbol","title":"ReaderEvent","role":"symbol","identifier":"doc:\/\/ios-sdk.MoovKit\/documentation\/MoovKit\/ReaderEvent","fragments":[{"kind":"keyword","text":"enum"},{"text":" ","kind":"text"},{"text":"ReaderEvent","kind":"identifier"}],"abstract":[],"type":"topic","url":"\/documentation\/moovkit\/readerevent"}}}